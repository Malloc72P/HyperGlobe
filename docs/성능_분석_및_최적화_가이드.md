# HyperGlobe ì„±ëŠ¥ ë¶„ì„ ë° ìµœì í™” ê°€ì´ë“œ

## ğŸ“Š ì„±ëŠ¥ ë¶„ì„ ê°œìš”

### ì¸¡ì • í™˜ê²½
- **í…ŒìŠ¤íŠ¸ ê¸°ê¸°**: M1 MacBook
- **ì¸¡ì • ëŒ€ìƒ**: world-low, world-mid, world-high geo.json
- **ì¸¡ì • ì§€í‘œ**: FPS (ì´ˆë‹¹ í”„ë ˆì„ ìˆ˜)

### ì¸¡ì • ê²°ê³¼
```
world-low  (10,853 ì¢Œí‘œ): 60 fps âœ…
world-mid  (14,016 ì¢Œí‘œ): 55-60 fps âœ…
world-high (26,316 ì¢Œí‘œ): 40 fps âš ï¸
```

**ë¬¸ì œ ìƒí™©:**
- world-mid â†’ world-highë¡œ ê°ˆ ë•Œ ì¢Œí‘œ ìˆ˜ 1.88ë°° ì¦ê°€
- í•˜ì§€ë§Œ FPSëŠ” 33% ê°ì†Œ (60fps â†’ 40fps)
- ë¹„ì„ í˜•ì ì¸ ì„±ëŠ¥ ì €í•˜ ë°œìƒ

---

## ğŸ” GeoJSON ë°ì´í„° ë¶„ì„

### íŒŒì¼ë³„ í†µê³„
| íŒŒì¼ | í”¼ì²˜ ìˆ˜ | ì´ ì¢Œí‘œ ìˆ˜ | ë§(Ring) ìˆ˜ | íŒŒì¼ í¬ê¸° |
|------|---------|-----------|------------|----------|
| world-low | 256 | 10,853 | 401 | 0.25MB |
| world-mid | 256 | 14,016 | 459 | 0.30MB |
| world-high | 256 | 26,316 | 676 | 0.52MB |

### ì£¼ìš” íŠ¹ì§•
- **í”¼ì²˜ ìˆ˜**: ëª¨ë‘ ë™ì¼ (256ê°œ êµ­ê°€)
- **ì¢Œí‘œ ë°€ë„**: highëŠ” low ëŒ€ë¹„ 2.4ë°° ë” ë§ì€ ì¢Œí‘œ
- **ë³µì¡ë„**: ë‚¨ê·¹ì´ ê°€ì¥ ë³µì¡ (world-highì—ì„œ 2,036ê°œ ì¢Œí‘œ)

---

## ğŸ”´ ì„±ëŠ¥ ë³‘ëª© ì§€ì  ë¶„ì„

### 1. ëŸ°íƒ€ì„ ì‚¼ê°ë¶„í•  (Critical âš ï¸âš ï¸âš ï¸)

**í˜„ì¬ êµ¬í˜„:**
```tsx
// PolygonFeature.tsx
const fillGeometry = useMemo(() => {
  const { vertices, indices } = triangulatePolygon({
    coordinates: polygons,
    radius: fillRadius,
    gridSpacing: 3,  // ê¸°ë³¸ê°’
    densifyBoundary: true,
  });
  // BufferGeometry ìƒì„±...
}, [polygons, gridSpacing, densifyBoundary]);
```

**ë¬¸ì œì :**
- 256ê°œ êµ­ê°€ ê°ê°ì— ëŒ€í•´ **ë¸Œë¼ìš°ì €ì—ì„œ** Delaunay ì‚¼ê°ë¶„í•  ìˆ˜í–‰
- ì‘ì—… ë‚´ìš©:
  1. `generateInnerPoints`: ë‚´ë¶€ ê²©ìì  ìƒì„± (gridSpacing=3ë„)
  2. `densifyBoundary`: ê²½ê³„ì„  ë³´ê°„ (ì¶”ê°€ ì  ìƒì„±)
  3. `Delaunator.from()`: O(n log n) ë³µì¡ë„ì˜ ì‚¼ê°ë¶„í• 
  4. `filterOuterTriangles`: ê° ì‚¼ê°í˜• ì¤‘ì‹¬ì  ê²€ì‚¬
  5. `OrthographicProj.projects`: 3D ì¢Œí‘œ ë³€í™˜

**ë¹„ìš© ì¶”ì •:**
- world-high: 26,316 ì¢Œí‘œ â†’ gridSpacing=3 ì ìš© ì‹œ
- **ì•½ 10ë§Œê°œ ì´ìƒì˜ ê²©ìì  ìƒì„±**
- 256ê°œ í”¼ì²˜ Ã— ê° ìˆ˜ë°±~ìˆ˜ì²œ ê°œ ê²©ìì 
- ì´ˆê¸° ë¡œë”©ë§Œ **2~5ì´ˆ** ì†Œìš” ì˜ˆìƒ

**ì˜í–¥ë„:** â­â­â­â­â­ (ê°€ì¥ í° ë³‘ëª©)

---

### 2. ê³¼ë„í•œ ë“œë¡œìš°ì½œ (Draw Call Overhead)

**í˜„ì¬ êµ¬í˜„:**
```tsx
// RegionFeature.tsx
{featurePolygons.map((polygon, i) => (
  <PolygonFeature key={i} polygons={polygon} ... />
))}

// PolygonFeature.tsx - ê° í´ë¦¬ê³¤ë§ˆë‹¤
<LineFeature ... />  // ë“œë¡œìš°ì½œ 1
<mesh ... />         // ë“œë¡œìš°ì½œ 1
```

**ë¬¸ì œì :**
- 256ê°œ êµ­ê°€ Ã— ìµœì†Œ 2ê°œ ë“œë¡œìš°ì½œ (LineFeature + mesh)
- MultiPolygonì˜ ê²½ìš° ë§ ê°œìˆ˜ë§Œí¼ ì¶”ê°€
- **world-high: 676ê°œ ë§ â†’ ìµœì†Œ 1,352ê°œ ë“œë¡œìš°ì½œ ì¶”ì •**

**ì„±ëŠ¥ ê¸°ì¤€:**
- ê¶Œì¥: < 200 ë“œë¡œìš°ì½œ (ë°ìŠ¤í¬íƒ‘ 60fps ëª©í‘œ)
- í˜„ì¬: **1,300+ ë“œë¡œìš°ì½œ** (ê¶Œì¥ì˜ 6ë°° ì´ˆê³¼)

**ì˜í–¥ë„:** â­â­â­â­â­

---

### 3. ë©”ì‰¬ ë³‘í•© ë¯¸ì‚¬ìš©

**í˜„ì¬ êµ¬í˜„:**
```tsx
// PolygonFeature.tsx - ê° í´ë¦¬ê³¤ë§ˆë‹¤ ë³„ë„ mesh
<mesh geometry={fillGeometry}>
  <meshStandardMaterial ... />
</mesh>
```

**ë¬¸ì œì :**
- 256ê°œ êµ­ê°€ ê°ê° ë³„ë„ ë©”ì‰¬ ìƒì„±
- ê°™ì€ ë¨¸í‹°ë¦¬ì–¼ì„ ì“°ëŠ”ë°ë„ ë³‘í•©ë˜ì§€ ì•ŠìŒ
- GPUì— 256ë²ˆ ê°œë³„ ì œì¶œ
- Three.jsê°€ ê° ë©”ì‰¬ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬

**ì˜í–¥ë„:** â­â­â­â­

---

### 4. í¬ì¸í„° ì´ë²¤íŠ¸ ë ˆì´ìºìŠ¤íŠ¸ ë¹„ìš©

**í˜„ì¬ êµ¬í˜„:**
```tsx
// RegionFeature.tsx
<group
  onPointerEnter={(e) => { 
    setHovered(true);
    setHoveredRegion(regionModel);
  }}
  onPointerLeave={(e) => { 
    setHovered(false);
    setHoveredRegion(null);
  }}
>
```

**ë¬¸ì œì :**
- ë§ˆìš°ìŠ¤ ì´ë™ ì‹œ 256ê°œ ë©”ì‰¬ ì „ì²´ì— ë ˆì´ìºìŠ¤íŠ¸ ìˆ˜í–‰
- React-three-fiberëŠ” ì´ë²¤íŠ¸ê°€ ìˆëŠ” ëª¨ë“  ê°ì²´ë¥¼ ë§¤ í”„ë ˆì„ ê²€ì‚¬
- ë³µì¡í•œ geometry(ìˆ˜ì²œ ê°œ ì‚¼ê°í˜•)ì¼ìˆ˜ë¡ ë¹„ìš© ì¦ê°€

**ì˜í–¥ë„:** â­â­â­

---

## ğŸ“ˆ ì„±ëŠ¥ ì¶”ì •ì¹˜

### í˜„ì¬ ë Œë”ë§ ë¹„ìš© (world-high ê¸°ì¤€)
```
ì…ë ¥ ì¢Œí‘œ ìˆ˜:     26,316
ê²©ì ê°„ê²©:        3ë„ (ê¸°ë³¸ê°’)
ìƒì„±ëœ ê²©ìì :    ì•½ 100,000+
ìƒì„±ëœ ì‚¼ê°í˜•:    ì•½ 180,000+ (ì „ì²´ 256ê°œ êµ­ê°€ í•©ì‚°)
ë“œë¡œìš°ì½œ ìˆ˜:      1,300+
ë©”ì‰¬ ìˆ˜:          256+
```

### M1 MacBook ì„±ëŠ¥ íŒë‹¨
- M1 í†µí•© GPUëŠ” 180k ì‚¼ê°í˜• ì •ë„ëŠ” ì²˜ë¦¬ ê°€ëŠ¥
- ê·¸ëŸ°ë°ë„ 40fps â†’ **JavaScript CPU ë³‘ëª© + ë“œë¡œìš°ì½œ ë³‘ëª©**
- ìˆœìˆ˜ GPU ë Œë”ë§ ë¶€í•˜ê°€ ì•„ë‹˜

---

## âœ… ìµœì¢… íŒë‹¨

### ğŸ¯ í˜„ì¬ 40fpsëŠ” ìµœì í™” í•„ìš”í•œ ìƒí™©

**ì´ìœ :**
1. âŒ ë°ì´í„° í•´ìƒë„ì˜ í•œê³„ê°€ ì•„ë‹˜
2. âœ… êµ¬í˜„ ë°©ì‹ì˜ ë¬¸ì œ
3. âœ… ìµœì í™”ë¡œ ì¶©ë¶„íˆ 60fps ë‹¬ì„± ê°€ëŠ¥

**ê·¼ê±°:**
- M1 MacBookì€ ì´ ì •ë„ ê·œëª¨ì˜ 3D ë Œë”ë§ì„ 60fpsë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì„±ëŠ¥
- ì£¼ìš” ë³‘ëª©ì€ **ëŸ°íƒ€ì„ ì‚¼ê°ë¶„í• (CPU)ê³¼ ê³¼ë„í•œ ë“œë¡œìš°ì½œ**
- ë¹„ìŠ·í•œ ê·œëª¨ì˜ ìµœì í™”ëœ 3D ì§€ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ 60fps ë‹¬ì„±

---

## ğŸš€ ìµœì í™” ê¶Œì¥ì‚¬í•­

### Priority 1: ë¹Œë“œ íƒ€ì„ ì‚¼ê°ë¶„í•  â­â­â­â­â­

**ê¸°ëŒ€ íš¨ê³¼:**
- ì´ˆê¸° ë¡œë”©: 2~5ì´ˆ â†’ 0.5ì´ˆ ë¯¸ë§Œ
- FPS í–¥ìƒ: +20~30
- CPU ë¶€í•˜ ì œê±°

**êµ¬í˜„ ë°©ì•ˆ:**
```bash
# 1. ë¹Œë“œ íƒ€ì„ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
node scripts/preprocess-geojson.js

# 2. ê²°ê³¼ë¬¼ ìƒì„±
# world-high.geo.json â†’ world-high.triangulated.json
# { vertices: Float32Array, indices: Uint32Array, metadata: {...} }

# 3. ëŸ°íƒ€ì„ì—ì„œ ì‚¬ìš©
const preTriangulated = await import('./data/world-high.triangulated.json');
const geometry = new THREE.BufferGeometry();
geometry.setAttribute('position', new THREE.Float32BufferAttribute(preTriangulated.vertices, 3));
geometry.setIndex(preTriangulated.indices);
```

**ì¥ì :**
- CPU ì‘ì—… ì™„ì „ ì œê±°
- ì¼ê´€ëœ ì„±ëŠ¥ (ê¸°ê¸°ì— ë¬´ê´€)
- ë©”ëª¨ë¦¬ë§Œ ì‚¬ìš©

**ë‹¨ì :**
- ë¹Œë“œ íŒŒì¼ í¬ê¸° ì¦ê°€ (ì˜ˆìƒ: +2~3MB)
- ë¹Œë“œ ì‹œê°„ ì¦ê°€ (í•œ ë²ˆë§Œ)

---

### Priority 2: ë©”ì‰¬ ë³‘í•© (Single Draw Call) â­â­â­â­â­

**ê¸°ëŒ€ íš¨ê³¼:**
- ë“œë¡œìš°ì½œ: 1,300+ â†’ 1~2ê°œ
- FPS í–¥ìƒ: +10~20
- GPU íš¨ìœ¨ ê·¹ëŒ€í™”

**êµ¬í˜„ ë°©ì•ˆ:**
```tsx
import { mergeBufferGeometries } from 'three/examples/jsm/utils/BufferGeometryUtils';

// ëª¨ë“  êµ­ê°€ì˜ geometryë¥¼ í•˜ë‚˜ë¡œ ë³‘í•©
const mergedGeometry = useMemo(() => {
  const geometries = features.map(feature => {
    const { vertices, indices } = triangulatePolygon({
      coordinates: feature.geometry.coordinates,
      radius: fillRadius,
      gridSpacing: 3,
    });
    
    const geometry = new THREE.BufferGeometry();
    geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices.flat(), 3));
    geometry.setIndex(indices);
    return geometry;
  });
  
  return mergeBufferGeometries(geometries);
}, [features]);

// ë‹¨ì¼ ë©”ì‰¬ë¡œ ë Œë”ë§
<mesh geometry={mergedGeometry}>
  <meshStandardMaterial />
</mesh>
```

**íŠ¸ë ˆì´ë“œì˜¤í”„:**
- âœ… ì—„ì²­ë‚œ ì„±ëŠ¥ í–¥ìƒ
- âš ï¸ ê°œë³„ êµ­ê°€ë³„ hover ì´ë²¤íŠ¸ ì²˜ë¦¬ ë°©ì‹ ë³€ê²½ í•„ìš”
- âš ï¸ êµ­ê°€ë³„ ìƒ‰ìƒ ë³€ê²½ ì‹œ ë‹¤ë¥¸ ì ‘ê·¼ í•„ìš” (InstancedMesh ë˜ëŠ” vertex color)

---

### Priority 3: í¬ì¸í„° ì´ë²¤íŠ¸ ìµœì í™” â­â­â­

**ê¸°ëŒ€ íš¨ê³¼:**
- ë§ˆìš°ìŠ¤ ì´ë™ ì‹œ ë²„ë²…ì„ ì œê±°
- ë ˆì´ìºìŠ¤íŠ¸ ë¹„ìš© 90% ê°ì†Œ

**ë°©ì•ˆ A: ë‹¨ì¼ ë ˆì´ìºìŠ¤íŠ¸ + Face Index ë§¤í•‘**
```tsx
// ë³‘í•©ëœ ë©”ì‰¬ì—ë§Œ ì´ë²¤íŠ¸ ë¶€ì°©
const faceIndexToCountryMap = useMemo(() => {
  const map = new Map();
  let faceOffset = 0;
  
  features.forEach((feature, countryIndex) => {
    const triangleCount = getTriangleCount(feature);
    for (let i = 0; i < triangleCount; i++) {
      map.set(faceOffset + i, countryIndex);
    }
    faceOffset += triangleCount;
  });
  
  return map;
}, [features]);

<mesh 
  geometry={mergedGeometry}
  onPointerMove={(e) => {
    const faceIndex = e.faceIndex;
    const countryId = faceIndexToCountryMap.get(faceIndex);
    setHoveredCountry(countryId);
  }}
/>
```

**ë°©ì•ˆ B: Spatial Index (R-tree)**
```tsx
import RBush from 'rbush';

// êµ­ê°€ë³„ bounding boxë¡œ R-tree ìƒì„±
const spatialIndex = useMemo(() => {
  const tree = new RBush();
  const items = features.map(feature => ({
    minX: ..., minY: ..., maxX: ..., maxY: ...,
    countryId: feature.id
  }));
  tree.load(items);
  return tree;
}, [features]);

// ë§ˆìš°ìŠ¤ ìœ„ì¹˜ â†’ í›„ë³´ êµ­ê°€ í•„í„°ë§ â†’ ë ˆì´ìºìŠ¤íŠ¸
const candidateCountries = spatialIndex.search({
  minX: mouseX - 0.1, maxX: mouseX + 0.1,
  minY: mouseY - 0.1, maxY: mouseY + 0.1
});
```

---

### Priority 4: LOD (Level of Detail) â­â­â­

**ê¸°ëŒ€ íš¨ê³¼:**
- ì¤Œ ë ˆë²¨ì— ë”°ë¼ ìë™ ì„±ëŠ¥ ì¡°ì ˆ
- ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

**êµ¬í˜„ ë°©ì•ˆ:**
```tsx
import { useThree } from '@react-three/fiber';

function useGeoJsonLOD() {
  const { camera } = useThree();
  const [geoJson, setGeoJson] = useState(worldMid);
  
  useFrame(() => {
    const distance = camera.position.length();
    
    if (distance < 3 && geoJson !== worldHigh) {
      setGeoJson(worldHigh);
    } else if (distance >= 3 && distance < 6 && geoJson !== worldMid) {
      setGeoJson(worldMid);
    } else if (distance >= 6 && geoJson !== worldLow) {
      setGeoJson(worldLow);
    }
  });
  
  return geoJson;
}

// ì‚¬ìš©
export function NationsDemo() {
  const geoJson = useGeoJsonLOD();
  
  return (
    <HyperGlobe>
      {geoJson.features.map(feature => (
        <RegionFeature key={feature.id} feature={feature} />
      ))}
    </HyperGlobe>
  );
}
```

**LOD ë ˆë²¨ ê¶Œì¥:**
- ê±°ë¦¬ < 3: world-high
- ê±°ë¦¬ 3~6: world-mid
- ê±°ë¦¬ > 6: world-low

---

### Priority 5: gridSpacing ë™ì  ì¡°ì • â­â­

**ê¸°ëŒ€ íš¨ê³¼:**
- ì‚¼ê°í˜• ìˆ˜ 30~50% ê°ì†Œ
- ì¦‰ê°ì ì¸ FPS í–¥ìƒ

**êµ¬í˜„ ë°©ì•ˆ:**
```tsx
// ë°ì´í„° í•´ìƒë„ì— ë”°ë¥¸ gridSpacing ê¶Œì¥ê°’
const GRID_SPACING_CONFIG = {
  'world-low': 7,   // ì„±ê¸´ ê²©ì
  'world-mid': 5,   // ë³´í†µ ê²©ì
  'world-high': 3,  // ì´˜ì´˜í•œ ê²©ì
};

// ë˜ëŠ” ë™ì  ê³„ì‚°
function calculateGridSpacing(coordinateCount: number): number {
  if (coordinateCount < 100) return 2;
  if (coordinateCount < 500) return 3;
  if (coordinateCount < 1000) return 4;
  return 5;
}

<PolygonFeature 
  polygons={polygon}
  gridSpacing={calculateGridSpacing(polygon.length)}
/>
```

**íŠ¸ë ˆì´ë“œì˜¤í”„:**
- âœ… ì¦‰ê°ì ì¸ ì„±ëŠ¥ í–¥ìƒ
- âš ï¸ í° í´ë¦¬ê³¤ì—ì„œ ì‹œê°ì  í’ˆì§ˆ ì•½ê°„ ì €í•˜ (ëŒ€ë¶€ë¶„ ëˆˆì— ë„ì§€ ì•ŠìŒ)

---

## ğŸ§ª ë¹ ë¥¸ ê²€ì¦ ë°©ë²•

### 1ë‹¨ê³„: gridSpacing ì¦ê°€ í…ŒìŠ¤íŠ¸ (30ì´ˆ ì†Œìš”)

**ëª©ì :** ì‚¼ê°í˜• ìˆ˜ ê°ì†Œ íš¨ê³¼ í™•ì¸

```tsx
// nations.tsx ìˆ˜ì •
<RegionFeature
  gridSpacing={5}  // ê¸°ë³¸ê°’ 3 â†’ 5ë¡œ ë³€ê²½
  feature={feature}
  ...
/>
```

**ì˜ˆìƒ ê²°ê³¼:**
- 40fps â†’ 48~52fps (ì•½ 20% í–¥ìƒ)
- ì‹œê°ì  í’ˆì§ˆì€ ê±°ì˜ ë™ì¼

---

### 2ë‹¨ê³„: ë Œë”ëŸ¬ í†µê³„ í™•ì¸ (1ë¶„ ì†Œìš”)

**ëª©ì :** ë“œë¡œìš°ì½œ ìˆ˜ì™€ ì‚¼ê°í˜• ìˆ˜ ì¸¡ì •

```tsx
// HyperGlobe.tsxì— ì¶”ê°€
import { useFrame, useThree } from '@react-three/fiber';

export function HyperGlobe({ children, showFpsCounter, ...props }) {
  const { gl } = useThree();
  
  useFrame(() => {
    if (showFpsCounter) {
      console.log({
        drawCalls: gl.info.render.calls,
        triangles: gl.info.render.triangles,
        geometries: gl.info.memory.geometries,
        textures: gl.info.memory.textures,
      });
    }
  });
  
  // ... ê¸°ì¡´ ì½”ë“œ
}
```

**í™•ì¸ ì‚¬í•­:**
- `drawCalls`: ëª©í‘œ < 200, í˜„ì¬ ì˜ˆìƒ 1,300+
- `triangles`: í˜„ì¬ ì˜ˆìƒ 180,000+

---

### 3ë‹¨ê³„: Chrome DevTools í”„ë¡œíŒŒì¼ë§ (3ë¶„ ì†Œìš”)

**ëª©ì :** CPU ë³‘ëª© ì§€ì  í™•ì¸

1. Chrome DevTools ì—´ê¸° (F12)
2. Performance íƒ­ ì„ íƒ
3. ë…¹í™” ì‹œì‘ â†’ ì§€êµ¬ë³¸ íšŒì „ â†’ ë…¹í™” ì¢…ë£Œ
4. í™•ì¸ ì‚¬í•­:
   - í”„ë ˆì„ë‹¹ ì‹œê°„ (ëª©í‘œ: < 16.6ms)
   - JavaScript ì‹¤í–‰ ì‹œê°„
   - Rendering ì‹œê°„
   - `triangulatePolygon` í•¨ìˆ˜ ì‹¤í–‰ ì‹œê°„

---

## ğŸ“Š ì˜ˆìƒ ì„±ëŠ¥ ê°œì„  íš¨ê³¼

### ìµœì í™” ì „í›„ ë¹„êµ (world-high ê¸°ì¤€)

| ì§€í‘œ | í˜„ì¬ | Priority 1+2 ì ìš© í›„ | ì „ì²´ ì ìš© í›„ |
|------|------|---------------------|-------------|
| **FPS** | 40 | 55-58 | 58-60 |
| **ì´ˆê¸° ë¡œë”©** | 2-5ì´ˆ | 0.3-0.5ì´ˆ | 0.2-0.3ì´ˆ |
| **ë“œë¡œìš°ì½œ** | 1,300+ | 2-10 | 1-5 |
| **ì‚¼ê°í˜• ìˆ˜** | 180,000+ | 180,000+ | 120,000+ |
| **CPU ë¶€í•˜** | ë†’ìŒ | ë§¤ìš° ë‚®ìŒ | ë§¤ìš° ë‚®ìŒ |
| **ë©”ëª¨ë¦¬** | ë³´í†µ | ì•½ê°„ ë†’ìŒ | ë³´í†µ |

### ë‹¨ê³„ë³„ ì˜ˆìƒ FPS
```
í˜„ì¬:           40 fps
+ Priority 5:   48 fps (+8)   // gridSpacingë§Œ ì¡°ì •
+ Priority 1:   52 fps (+4)   // ë¹Œë“œ íƒ€ì„ ì‚¼ê°ë¶„í•  ì¶”ê°€
+ Priority 2:   58 fps (+6)   // ë©”ì‰¬ ë³‘í•© ì¶”ê°€
+ Priority 3,4: 60 fps (+2)   // ì´ë²¤íŠ¸ ìµœì í™” + LOD
```

---

## ğŸ¯ ê¶Œì¥ ì ìš© ìˆœì„œ

### Phase 1: ì¦‰ì‹œ ì ìš© ê°€ëŠ¥ (1ì‹œê°„ ì´ë‚´)
1. âœ… gridSpacingì„ 5ë¡œ ë³€ê²½
2. âœ… FPS Counterë¡œ ê°œì„  í™•ì¸
3. âœ… ë Œë”ëŸ¬ í†µê³„ ë¡œê¹… ì¶”ê°€

### Phase 2: í•µì‹¬ ìµœì í™” (1-2ì¼)
1. ğŸ”¨ ë¹Œë“œ íƒ€ì„ ì‚¼ê°ë¶„í•  ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
2. ğŸ”¨ PolygonFeatureì—ì„œ ì‚¬ì „ ì‚¼ê°ë¶„í•  ë°ì´í„° ì‚¬ìš©
3. âœ… ì„±ëŠ¥ ì¸¡ì • ë° ê²€ì¦

### Phase 3: ê³ ê¸‰ ìµœì í™” (2-3ì¼)
1. ğŸ”¨ ë©”ì‰¬ ë³‘í•© êµ¬í˜„
2. ğŸ”¨ Face Index â†’ Country ID ë§¤í•‘
3. ğŸ”¨ í¬ì¸í„° ì´ë²¤íŠ¸ ìµœì í™”
4. âœ… ì „ì²´ í†µí•© í…ŒìŠ¤íŠ¸

### Phase 4: ì‚¬ìš©ì ê²½í—˜ ê°œì„  (1-2ì¼)
1. ğŸ”¨ LOD ì‹œìŠ¤í…œ êµ¬í˜„
2. ğŸ”¨ ë¶€ë“œëŸ¬ìš´ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
3. âœ… ë‹¤ì–‘í•œ ê¸°ê¸°ì—ì„œ í…ŒìŠ¤íŠ¸

---

## ğŸ“š ì°¸ê³  ìë£Œ

### Three.js ì„±ëŠ¥ ìµœì í™”
- [Three.js Performance Tips](https://discoverthreejs.com/tips-and-tricks/)
- [BufferGeometryUtils ë¬¸ì„œ](https://threejs.org/docs/#examples/en/utils/BufferGeometryUtils)
- [InstancedMesh ê°€ì´ë“œ](https://threejs.org/docs/#api/en/objects/InstancedMesh)

### ì‚¼ê°ë¶„í•  ì•Œê³ ë¦¬ì¦˜
- [Delaunator ë¼ì´ë¸ŒëŸ¬ë¦¬](https://github.com/mapbox/delaunator)
- [Polygon Triangulation on Globe - Stack Overflow](https://stackoverflow.com/questions/54484537/polygon-triangulation-for-globe)

### ì„±ëŠ¥ ì¸¡ì •
- [Chrome DevTools Performance](https://developer.chrome.com/docs/devtools/performance/)
- [React-three-fiber Performance](https://docs.pmnd.rs/react-three-fiber/advanced/pitfalls#performance-pitfalls)

---

## ğŸ¤ ë‹¤ìŒ ë‹¨ê³„

í˜„ì¬ ë¶„ì„ ì™„ë£Œ. ë‹¤ìŒ ì¤‘ ì„ íƒ:

1. **ë¹Œë“œ íƒ€ì„ ì‚¼ê°ë¶„í•  ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±** (ê°€ì¥ í° íš¨ê³¼)
2. **ë©”ì‰¬ ë³‘í•© êµ¬í˜„** (ë‘ ë²ˆì§¸ë¡œ í° íš¨ê³¼)
3. **gridSpacing ë™ì  ì¡°ì •** (ê°€ì¥ ë¹ ë¥¸ ì ìš©)
4. **LOD ì‹œìŠ¤í…œ êµ¬í˜„** (ì‚¬ìš©ì ê²½í—˜ ê°œì„ )

---

*ë¬¸ì„œ ì‘ì„±ì¼: 2025ë…„ 11ì›” 5ì¼*
*ë¶„ì„ ê¸°ì¤€: HyperGlobe v0.x, M1 MacBook í™˜ê²½*
